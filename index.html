<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thuy·∫øt Tr√¨nh: Mu·ªëi C·ªßa R·ª´ng (Smart Wheel Edition)</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* =========================================
           1. C·∫§U H√åNH SLIDE (GI·ªÆ NGUY√äN)
           ========================================= */
        :root {
            --bg-color: #fdf6e3;
            --text-color: #2b2b2b;
            --accent-color: #8d6e63;
            --highlight-color: #a0300b;
            --base-width: 1800px; 
            --base-height: 1000px; 
        }

        body {
            margin: 0; padding: 0;
            font-family: 'Merriweather', serif;
            background-color: #1a1a1a;
            background-image: url('https://www.transparenttextures.com/patterns/wood-pattern.png');
            color: var(--text-color);
            display: flex; justify-content: center; align-items: center;
            height: 100vh; width: 100vw; overflow: hidden;
            perspective: 4000px; 
        }

        /* Wrapper Scale */
        .book-wrapper { display: flex; justify-content: center; align-items: center; width: 100%; height: 100%; }
        .book-container {
            width: var(--base-width); height: var(--base-height); position: relative;
            transform-style: preserve-3d; transform-origin: center center; transition: transform 1s;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); 
        }

        /* N√∫t Fullscreen */
        .fs-btn {
            position: fixed; top: 20px; right: 20px;
            background: rgba(255, 255, 255, 0.2); border: 2px solid rgba(255, 255, 255, 0.5);
            color: #fff; padding: 10px 20px; border-radius: 8px; cursor: pointer;
            font-family: sans-serif; font-weight: bold; font-size: 1.2rem;
            z-index: 9000; transition: all 0.3s; backdrop-filter: blur(5px);
        }
        .fs-btn:hover { background: rgba(255, 255, 255, 0.4); transform: scale(1.05); }

        /* Slide Styles */
        .slide {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--bg-color);
            background-image: linear-gradient(to right, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0) 5%, rgba(0,0,0,0) 100%), url('https://www.transparenttextures.com/patterns/cream-paper.png');
            padding: 50px 80px; box-sizing: border-box;
            border-radius: 5px 20px 20px 5px; border: 1px solid #dccbb8;
            box-shadow: inset 30px 0 50px rgba(0,0,0,0.1);
            transform-origin: left center; transition: transform 1.6s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.6s;
            backface-visibility: hidden; transform-style: preserve-3d; overflow-y: auto; transform: rotateY(0deg);
        }
        .slide.flipped { transform: rotateY(-180deg); pointer-events: none; }

        /* Typography */
        h1, h2 { font-family: 'Playfair Display', serif; color: var(--highlight-color); text-align: center; border-bottom: 4px solid var(--accent-color); padding-bottom: 15px; margin-bottom: 30px; }
        h1 { font-size: 6rem; margin-top: 5%; border: none; line-height: 1.2; text-shadow: 4px 4px 8px rgba(0,0,0,0.15); }
        h2 { font-size: 4rem; font-weight: bold; line-height: 1.3; }
        h3 { color: #5d4037; font-size: 3rem; margin-top: 30px; text-decoration: underline; font-weight: bold;}
        h4 { font-size: 2.4rem; color: #3e2723; margin-top: 25px; font-weight: bold; font-style: italic;}
        p, li { font-size: 2.2rem; line-height: 1.6; margin-bottom: 20px; text-align: justify; }
        ul { padding-left: 60px; } strong { color: #a0300b; }

        /* Elements */
        .fragment { opacity: 0; transform: translateY(30px); transition: all 0.8s ease-out; pointer-events: none; }
        .fragment.visible { opacity: 1; transform: translateY(0); pointer-events: auto; }
        details { background: rgba(255, 255, 255, 0.7); border: 3px solid var(--accent-color); border-radius: 15px; margin-bottom: 30px; padding: 25px; transition: all 0.3s; cursor: pointer; }
        details:hover { transform: translateY(-3px); box-shadow: 5px 5px 15px rgba(0,0,0,0.15); background: #fff; }
        details[open] { background: #fff; border-left: 15px solid var(--highlight-color); }
        summary { font-weight: 900; font-size: 2.4rem; color: #3e2723; display: flex; justify-content: space-between; outline: none; list-style: none; align-items: center; }
        .answer-content { margin-top: 20px; padding-top: 20px; border-top: 2px dashed #ccc; color: #1a237e; font-style: italic; font-size: 2.2rem; animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .author-box { display: flex; gap: 40px; align-items: flex-start; margin-top: 30px; }
        .author-img { width: 280px; height: auto; border-radius: 15px; box-shadow: 5px 5px 15px rgba(0,0,0,0.3); border: 5px solid #fff; transform: rotate(-3deg); transition: transform 0.3s; }
        .author-img:hover { transform: rotate(0deg) scale(1.05); }
        .page-number { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); font-size: 2rem; color: var(--accent-color); z-index: 100; font-weight: bold; background: rgba(253, 246, 227, 0.95); padding: 10px 30px; border-radius: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .end-btn { display: inline-block; padding: 20px 50px; font-size: 2rem; font-weight: bold; background: var(--highlight-color); color: #fff; border-radius: 60px; text-decoration: none; margin: 15px; border: none; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: all 0.3s; }
        .end-btn:hover { transform: translateY(-5px); filter: brightness(1.1); }
        .slide::-webkit-scrollbar { width: 14px; } .slide::-webkit-scrollbar-track { background: transparent; } .slide::-webkit-scrollbar-thumb { background: var(--accent-color); border-radius: 7px; }
        .corner-decor { position: absolute; width: 80px; height: 80px; border-color: var(--highlight-color); border-style: solid; opacity: 0.4; pointer-events: none; }
        .top-left { top: 30px; left: 30px; border-width: 8px 0 0 8px; } .bottom-right { bottom: 30px; right: 30px; border-width: 0 8px 8px 0; }


        /* =========================================
           2. POPUP V√íNG QUAY (SIZE L·ªöN & CH·ªÆ TO)
           ========================================= */
        
        /* N√∫t B·∫≠t Widget */
        #wheel-toggle-btn {
            position: fixed; top: 80px; right: 20px;
            background: linear-gradient(135deg, #b8860b, #f2d06b);
            width: 60px; height: 60px; border-radius: 50%;
            border: 2px solid #fff; cursor: pointer; z-index: 10000;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            display: flex; justify-content: center; align-items: center;
            font-size: 30px; transition: transform 0.3s;
        }
        #wheel-toggle-btn:hover { transform: scale(1.1) rotate(90deg); }

        /* Backdrop */
        #wheel-backdrop {
            position: fixed; inset: 0; background: rgba(0,0,0,0.85);
            z-index: 9998; opacity: 0; visibility: hidden;
            transition: opacity 0.3s;
        }
        #wheel-backdrop.active { opacity: 1; visibility: visible; }

        /* Popup Container (80% M√†n h√¨nh) */
        #wheel-widget {
            position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 80vw; max-width: 1200px;
            background: #0f0c15; border: 4px solid #b8860b;
            border-radius: 20px; z-index: 9999;
            box-shadow: 0 0 80px rgba(0,0,0,0.9), 0 0 40px #b8860b;
            display: flex; flex-direction: column; align-items: center;
            padding: 30px; opacity: 0; visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        #wheel-widget.active { 
            opacity: 1; visibility: visible; 
            transform: translate(-50%, -50%) scale(1); 
        }

        /* N√∫t ƒê√≥ng */
        .close-wheel {
            position: absolute; top: 15px; right: 20px;
            color: #fff; font-size: 3rem; cursor: pointer; opacity: 0.6;
            transition: 0.2s; line-height: 1; z-index: 20;
        }
        .close-wheel:hover { opacity: 1; color: #ff4444; }

        /* N√∫t Reset L·ªãch S·ª≠ */
        .reset-history-btn {
            position: absolute; top: 20px; left: 20px;
            background: none; border: 1px solid #444; color: #666;
            padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 1rem;
            transition: 0.3s;
        }
        .reset-history-btn:hover { color: #fff; border-color: #fff; }

        .widget-title { 
            color: #fff; opacity: 0.8; font-size: 2rem; margin-bottom: 10px; 
            text-transform: uppercase; letter-spacing: 3px; font-family: sans-serif; 
        }

        /* V√≤ng Quay Wrapper (Cao 500px) */
        .mini-wheel-wrapper {
            perspective: 1200px; 
            width: 100%; height: 500px; 
            position: relative; margin: 20px 0;
        }

        .mini-wheel-container {
            width: 100%; height: 100%; background: #000;
            border: 10px solid #555; border-radius: 20px; overflow: hidden;
            transform: rotateX(10deg); transform-style: preserve-3d;
            box-shadow: inset 0 0 80px rgba(0,0,0,1); 
        }
        .mini-wheel-container.spinning { border-color: #ffcc00; animation: miniShake 0.1s infinite; }
        @keyframes miniShake { 0% { transform: rotateX(10deg) translate(1px, 0); } 50% { transform: rotateX(10deg) translate(-1px, 0); } }

        /* Ch·ªØ Trong V√≤ng Quay (V√†ng Kim - Size 5.5rem) */
        #mini-names-list { list-style: none; padding: 0; margin: 0; transform-style: preserve-3d; }
        #mini-names-list li {
            height: 140px; /* Chi·ªÅu cao d√≤ng */
            display: flex; justify-content: center; align-items: center;
            font-size: 5.5rem; font-weight: 900; text-transform: uppercase;
            color: #FFD700; /* V√†ng Kim */
            text-shadow: 4px 4px 0 #000, 0 0 20px rgba(255, 215, 0, 0.6);
            white-space: nowrap;
        }
        #mini-names-list li.highlight { color: #fff; text-shadow: 0 0 30px #fff; }

        /* Kim Ch·ªâ */
        .mini-pointer {
            position: absolute; top: 50%; left: -20px; right: -20px; 
            height: 140px; /* Kh·ªõp v·ªõi d√≤ng ch·ªØ */
            transform: translateY(-50%) translateZ(20px);
            background: linear-gradient(to bottom, rgba(255,215,0,0.15), transparent 50%, rgba(255,215,0,0.15));
            border-top: 5px solid #fff; border-bottom: 5px solid #fff; z-index: 10;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
        }

        /* N√∫t Quay */
        .btn-spin-mini {
            margin-top: 20px; padding: 20px 60px; border-radius: 60px; border: none;
            background: linear-gradient(to bottom, #FFD700, #B8860B); color: #000;
            font-weight: 900; cursor: pointer; font-size: 2rem; text-transform: uppercase;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5); transition: all 0.2s;
        }
        .btn-spin-mini:hover { transform: scale(1.05); filter: brightness(1.2); }
        .btn-spin-mini:disabled { filter: grayscale(1); cursor: not-allowed; opacity: 0.5; }

        /* K·∫øt Qu·∫£ (M√ÄU C·∫¶U V·ªíNG) */
        #widget-result {
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%) scale(0);
    
    font-size: 9rem;
    font-weight: 900;
    font-family: sans-serif;
    
    /* --- M√ÄU L·ª¨A --- */
    color: #ff4500; /* M√†u cam ƒë·ªè */
    /* Vi·ªÅn ch·ªØ v√†ng v√† b√≥ng ƒë·ªè */
    -webkit-text-stroke: 2px #ffff00;
    text-shadow: 5px 5px 0px #8b0000, 0 0 30px #ff4500;
    /* --------------- */

    z-index: 10001;
    pointer-events: none; white-space: nowrap;
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
#widget-result.show-big { transform: translate(-50%, -50%) scale(1); }
        #widget-result.show-big { transform: translate(-50%, -50%) scale(1); }
    </style>
</head>
<body>

    <button class="fs-btn" onclick="toggleFullScreen()">‚õ∂ To√†n M√†n H√¨nh</button>
    <div id="wheel-toggle-btn" onclick="toggleWheelWidget()">‚öôÔ∏è</div>
    <div id="wheel-backdrop" onclick="toggleWheelWidget()"></div>

    <div id="wheel-widget">
        <div class="close-wheel" onclick="toggleWheelWidget()">&times;</div>
        <button class="reset-history-btn" onclick="resetSpinHistory()" title="X√≥a l·ªãch s·ª≠ quay">‚ü≤ Reset</button>
        
        <div class="widget-title">V√≤ng Quay May M·∫Øn</div>
        
        <div class="mini-wheel-wrapper">
            <div class="mini-wheel-container" id="wheel-container">
                <div class="mini-pointer"></div>
                <ul id="mini-names-list"></ul>
            </div>
        </div>

        <button class="btn-spin-mini" id="btn-spin-mini" onclick="spinMiniWheel()">QUAY NGAY</button>
    </div>
    
    <div id="widget-result"></div>

    <audio id="sound-bg-mini" loop><source src="https://www.soundjay.com/misc/sounds/wind-chime-1.mp3" type="audio/mpeg"></audio>
    <audio id="sound-win-mini"><source src="https://www.soundjay.com/human/sounds/applause-01.mp3" type="audio/mpeg"></audio>

    <div class="book-wrapper">
        <div class="book-container" id="bookContainer">
            <div class="slide" id="slide-0">
                <div class="corner-decor top-left"></div>
                <div class="corner-decor bottom-right"></div>
                <div style="display: flex; flex-direction: column; height: 100%; justify-content: center; align-items: center; text-align: center;">
                    <p style="font-size: 3.5rem; letter-spacing: 5px; margin-bottom: 0; color: var(--accent-color); font-weight: bold;">T·ªîNG H·ª¢P KI·∫æN TH·ª®C</p>
                    <h1>MU·ªêI C·ª¶A R·ª™NG</h1>
                    <div style="width: 350px; height: 8px; background: var(--highlight-color); margin: 40px auto;"></div>
                    <p style="font-size: 3.5rem; font-style: italic;">Nguy·ªÖn Huy Thi·ªáp</p>
                    <p style="font-size: 2rem; margin-top: 40px; color: #555;">(Nh·∫•n m≈©i t√™n ho·∫∑c click chu·ªôt ƒë·ªÉ l·∫≠t trang)</p>
                </div>
            </div>
            <div class="slide" id="slide-1"><h2>KH·ªûI ƒê·ªòNG & LI√äN H·ªÜ</h2><div class="fragment"><details><summary>T√°c ph·∫©m hi·ªán ƒë·∫°i c√≥ y·∫øu t·ªë k√¨ ·∫£o?</summary><div class="answer-content"><p><strong>T√°c ph·∫©m:</strong> <em>T·∫øt ·ªü l√†ng ƒë·ªãa ng·ª•c</em>, <em>V·ª£ ch·ªìng A Ph·ªß</em> (t√¢m linh), <em>Ch√≠ Ph√®o</em>, <em>L√†ng</em>.</p><p><strong>C·∫£m nh·∫≠n:</strong> Y·∫øu t·ªë k·ª≥ ·∫£o t·∫°o kh√¥ng kh√≠ b√≠ ·∫©n, r√πng r·ª£n, gi√∫p ph·∫£n √°nh ch√¢n th·ª±c hi·ªán th·ª±c x√£ h·ªôi qua lƒÉng k√≠nh li√™u trai.</p></div></details></div></div>
            <div class="slide" id="slide-2"><h2>A. KH√ÅI QU√ÅT CHUNG</h2><div class="fragment"><h3>1. T√°c gi·∫£: Nguy·ªÖn Huy Thi·ªáp</h3><div class="author-box"><img src="muoi-cua_rung.png" alt="Nguy·ªÖn Huy Thi·ªáp" class="author-img"><div><ul><li>(1950 - 2021) Nh√† vƒÉn xu·∫•t s·∫Øc c·ªßa vƒÉn h·ªçc VN hi·ªán ƒë·∫°i.</li><li><strong>Phong c√°ch:</strong> S·∫Øc s·∫£o, l·∫°nh l√πng, gi√†u tri·∫øt l√Ω. Khai th√°c m·∫∑t t·ªëi ƒë·ªÉ l√†m n·ªïi b·∫≠t kh√°t v·ªçng h∆∞·ªõng thi·ªán.</li></ul></div></div></div><div class="fragment"><h3>2. T√°c ph·∫©m: Mu·ªëi c·ªßa r·ª´ng</h3><ul><li><strong>Th·ªÉ lo·∫°i:</strong> Truy·ªán ng·∫Øn gi√†u t√≠nh tri·∫øt l√Ω.</li><li><strong>ƒê·ªÅ t√†i:</strong> M·ªëi quan h·ªá gi·ªØa con ng∆∞·ªùi v√† thi√™n nhi√™n (trong chu·ªói truy·ªán v·ªÅ ƒëi sƒÉn).</li></ul></div></div>
            <div class="slide" id="slide-3"><h2>1. T√ìM T·∫ÆT C·ªêT TRUY·ªÜN</h2><p><em>(H√†nh tr√¨nh t·ª´ k·∫ª ƒëi sƒÉn ƒë·∫øn ng∆∞·ªùi t√°i sinh)</em></p><div class="fragment"><ul><li><strong>M·ªü ƒë·∫ßu:</strong> √îng Di·ªÉu ƒëi sƒÉn m√πa xu√¢n, trang b·ªã ƒë·∫ßy ƒë·ªß, t√¢m th·∫ø ph·∫•n kh√≠ch.</li><li><strong>Th·∫Øt n√∫t:</strong> B·∫Øn b·ªã th∆∞∆°ng kh·ªâ ƒë·ª±c. Kh·ªâ c√°i quay l·∫°i c·ª©u ch·ªìng, kh·ªâ con c∆∞·ªõp s√∫ng.</li><li><strong>Cao tr√†o:</strong> ƒêu·ªïi theo ƒë·∫øn H√µm Ch·∫øt, b·ªã kh·ªâ c√°i t·∫•n c√¥ng, ph·∫£i v·∫≠t l·ªôn b·∫£o v·ªá t√≠nh m·∫°ng.</li><li><strong>M·ªü n√∫t:</strong> Ch·ª©ng ki·∫øn t√¨nh c·∫£m nh√† kh·ªâ, √¥ng bƒÉng b√≥ v√† ph√≥ng sinh cho con m·ªìi.</li><li><strong>K·∫øt th√∫c:</strong> N√©m s√∫ng, tr·ªü v·ªÅ tr·∫ßn tru·ªìng, g·∫∑p hoa T·ª≠ Huy·ªÅn (may m·∫Øn).</li></ul></div></div>
            <div class="slide" id="slide-lda"><h2>3. PH√ÇN T√çCH NH√ÇN V·∫¨T (LU·∫¨N ƒêI·ªÇM 1)</h2><h3>H√¨nh ·∫£nh √¥ng Di·ªÉu ban ƒë·∫ßu: K·∫ª ƒëi sƒÉn ng·∫°o ngh·ªÖ</h3><div class="fragment"><ul><li><strong>T∆∞ th·∫ø:</strong> C·ªßa k·∫ª chinh ph·ª•c, trang b·ªã "t·∫≠n rƒÉng" (qu·∫ßn √°o s·ªëc l·∫°i, m≈© ph·ªõt, gi√†y t√¢y, s√∫ng hai n√≤ng).</li><li><strong>Th√°i ƒë·ªô:</strong><ul><li>T·ª± tin, ng·∫°o ngh·ªÖ, xem thi√™n nhi√™n l√† n∆°i ti√™u khi·ªÉn.</li><li>Th·ª±c d·ª•ng: Ch·ªâ quan t√¢m gi√° tr·ªã b·ªô l√¥ng, b·∫Øn kh·ªâ ƒë·ª±c ƒë·∫ßu ƒë√†n v√¨ l·ª£i √≠ch v·∫≠t ch·∫•t.</li></ul></li><li><strong>T∆∞ t∆∞·ªüng:</strong> Cho r·∫±ng m√¨nh c√≥ quy·ªÅn quy·∫øt ƒë·ªãnh s·ª± s·ªëng ch·∫øt c·ªßa mu√¥n th√∫.</li></ul></div></div>
            <div class="slide" id="slide-ldb"><h2>3. PH√ÇN T√çCH NH√ÇN V·∫¨T (LU·∫¨N ƒêI·ªÇM 2)</h2><h3>B∆∞·ªõc ngo·∫∑t th·ª©c t·ªânh t·∫°i H√µm Ch·∫øt</h3><p><em>(Bi k·ªãch c·ªßa k·∫ª chi·∫øn th·∫Øng nh∆∞ng thua cu·ªôc v·ªÅ ƒë·∫°o ƒë·ª©c)</em></p><div class="fragment"><ul><li><strong>S·ª± ki·ªán ch·∫•n ƒë·ªông:</strong> √îng b·∫Øn tr√∫ng kh·ªâ ƒë·ª±c. Kh·ªâ c√°i kh√¥ng ch·∫°y m√† quay l·∫°i c·ª©u ch·ªìng, kh·ªâ con c∆∞·ªõp s√∫ng.</li><li><strong>S·ª± th·ª©c t·ªânh:</strong> √îng ch·ª©ng ki·∫øn "t√¨nh ng∆∞·ªùi" trong lo√†i v·∫≠t, h√†nh ƒë·ªông hy sinh c·ªßa gia ƒë√¨nh kh·ªâ khi·∫øn √¥ng rung ƒë·ªông.</li><li><strong>Gi·∫±ng x√© n·ªôi t√¢m:</strong><ul><li>ƒê·∫•u tranh gay g·∫Øt gi·ªØa <em>B·∫£n nƒÉng s√°t th·ªß</em> v√† <em>L∆∞∆°ng tri</em>.</li><li>M√¢u thu·∫´n: Mi·ªáng ch·ª≠i th·ªÅ "Th·∫±ng kh·ªën n·∫°n" (che gi·∫•u s·ª± y·∫øu ƒëu·ªëi) nh∆∞ng tay l·∫°i x√© √°o bƒÉng b√≥ cho con m·ªìi.</li></ul></li></ul></div></div>
            <div class="slide" id="slide-ldc"><h2>3. PH√ÇN T√çCH NH√ÇN V·∫¨T (LU·∫¨N ƒêI·ªÇM 3)</h2><h3>S·ª± t√°i sinh & H√†nh ƒë·ªông bi·ªÉu t∆∞·ª£ng</h3><div class="fragment"><h4>1. D·∫•u hi·ªáu s√°m h·ªëi</h4><p>Ch√¢n tay √¥ng run r·∫©y, c·∫£m gi√°c nh∆∞ v·ª´a l√†m vi·ªác n·∫∑ng (g√°nh n·∫∑ng t·ªôi l·ªói). √îng nh√¨n th√∫ r·ª´ng nh∆∞ "ƒë·ªìng lo·∫°i".</p></div><div class="fragment"><h4>2. H√†nh ƒë·ªông gi·∫£i ph√≥ng</h4><ul><li><strong>H√©t l√™n "Ch·∫°y ƒëi!":</strong> L·∫ßn ƒë·∫ßu ti√™n ƒë·ª©ng v·ªÅ ph√≠a s·ª± s·ªëng.</li><li><strong>N√©m s√∫ng xu·ªëng v·ª±c:</strong> T·ª´ b·ªè b·∫°o l·ª±c v√† qu√° kh·ª© t√†n s√°t.</li><li><strong>Kh·ªâ k√©o s√∫ng ƒëi:</strong> Thi√™n nhi√™n "l·∫•y ƒëi" c√°i √°c, tr·∫£ l·∫°i s·ª± trong s·∫°ch cho con ng∆∞·ªùi.</li></ul></div><div class="fragment"><h4>3. K·∫øt qu·∫£</h4><p>√îng tr·ªü v·ªÅ tr·∫ßn tru·ªìng nh∆∞ng thanh th·∫£n, t√¨m l·∫°i b·∫£n ch·∫•t thi·ªán l∆∞∆°ng v√† g·∫∑p hoa T·ª≠ Huy·ªÅn.</p></div></div>
            <div class="slide" id="slide-4"><h2>2. NG√îI K·ªÇ & ƒêI·ªÇM NH√åN</h2><div class="fragment"><h3>a. Ng√¥i k·ªÉ</h3><ul><li><strong>Ng√¥i th·ª© ba</strong> (ng∆∞·ªùi k·ªÉ chuy·ªán to√†n tri).</li><li><strong>T√°c d·ª•ng:</strong> Bao qu√°t to√†n b·ªô b·ªëi c·∫£nh r·ª´ng v√† h√†nh ƒë·ªông c·ªßa c·∫£ ng∆∞·ªùi l·∫´n th√∫.</li></ul></div><div class="fragment"><h3>b. ƒêi·ªÉm nh√¨n tr·∫ßn thu·∫≠t</h3><ul><li>ƒê·∫∑t v√†o <strong>√¥ng Di·ªÉu</strong> (soi chi·∫øu n·ªôi t√¢m).</li><li>Len l·ªèi v√†o d√≤ng suy nghƒ©, c√¢u ch·ª≠i th·∫ßm, s·ª± l∆∞·ª°ng l·ª±.</li><li><strong>Hi·ªáu qu·∫£:</strong> Khi·∫øn qu√° tr√¨nh ho√†n l∆∞∆°ng tr·ªü n√™n ch√¢n th·ª±c, thuy·∫øt ph·ª•c.</li></ul></div></div>
            <div class="slide" id="slide-5"><h2>3. NH√ÇN V·∫¨T √îNG DI·ªÇU</h2><h3>Xu·∫•t th√¢n & Ngo·∫°i h√¨nh</h3><div class="fragment"><ul><li><strong>Xu·∫•t th√¢n:</strong> Th·ª£ sƒÉn gi√† nua, l√£o luy·ªán, t·ª´ng tr·∫£i.</li><li><strong>T∆∞∆°ng ph·∫£n ngo·∫°i h√¨nh:</strong><ul><li><em>ƒê·∫ßu truy·ªán:</em> Qu·∫ßn √°o s·ªëc l·∫°i, m≈© ph·ªõt, gi√†y t√¢y, s√∫ng hai n√≤ng -> <strong>VƒÉn minh, chinh ph·ª•c</strong>.</li><li><em>Cu·ªëi truy·ªán:</em> "Tr·∫ßn tru·ªìng", "l·∫•m lem" d∆∞·ªõi m∆∞a xu√¢n -> <strong>T·ª± nhi√™n, s∆° khai</strong>.</li></ul></li></ul></div></div>
            <div class="slide" id="slide-6"><h2>DI·ªÑN BI·∫æN T√ÇM L√ù (P1)</h2><div class="fragment"><h4>1. K·∫ª ƒëi sƒÉn th·ª±c d·ª•ng (Ban ƒë·∫ßu)</h4><p>T·ª± tin, ng·∫°o ngh·ªÖ, xem thi√™n nhi√™n l√† n∆°i ti√™u khi·ªÉn. T√†n nh·∫´n ng·∫Øm b·∫Øn kh·ªâ ch·ªâ v√¨ b·ªô l√¥ng ƒë·∫πp.</p></div><div class="fragment"><h4>2. Th·ª©c t·ªânh & Gi·∫±ng x√© (H√µm Ch·∫øt)</h4><p>Rung ƒë·ªông tr∆∞·ªõc t√¨nh c·∫£m gia ƒë√¨nh kh·ªâ. Gi·∫±ng x√© gi·ªØa th√∫ t√≠nh (gi·∫øt) v√† l∆∞∆°ng tri (tha). Ch·ª≠i th·ªÅ "Th·∫±ng kh·ªën n·∫°n" ƒë·ªÉ che gi·∫•u s·ª± y·∫øu ƒëu·ªëi.</p></div></div>
            <div class="slide" id="slide-7"><h2>DI·ªÑN BI·∫æN T√ÇM L√ù (P2)</h2><div class="fragment"><h4>3. T√°i sinh (K·∫øt th√∫c)</h4><ul><li><strong>H√†nh ƒë·ªông thi·ªán:</strong> BƒÉng b√≥ v·∫øt th∆∞∆°ng, h√©t "Ch·∫°y ƒëi!".</li><li><strong>Gi·∫£i tho√°t:</strong> N√©m s√∫ng xu·ªëng v·ª±c. Ch·∫•m d·ª©t vai tr√≤ s√°t nh√¢n.</li><li>Nh·∫≠n ra b·∫£n ch·∫•t thi·ªán l∆∞∆°ng, h·ªçc ƒë∆∞·ª£c b√†i h·ªçc v·ªÅ t√¨nh y√™u th∆∞∆°ng.</li></ul></div></div>
            <div class="slide" id="slide-8"><h2>4. K√å ·∫¢O & NGH·ªÜ THU·∫¨T</h2><div class="fragment"><h3>a. Y·∫øu t·ªë k√¨ ·∫£o (Bi·ªÉu t∆∞·ª£ng)</h3><ul><li><strong>Hoa T·ª≠ Huy·ªÅn:</strong> 30 nƒÉm n·ªü 1 l·∫ßn, m√†u tr·∫Øng, v·ªã m·∫∑n. Bi·ªÉu t∆∞·ª£ng t√°i sinh v√† ph·∫©m ch·∫•t cao ƒë·∫πp (mu·ªëi).</li><li><strong>Kh·ªâ k√©o s√∫ng ƒëi:</strong> Ng·ª• ng√¥n. Thi√™n nhi√™n l·∫•y ƒëi c√°i √°c (v≈© kh√≠) tr·∫£ l·∫°i s·ª± trong s·∫°ch.</li></ul></div><div class="fragment"><h3>b. Th·ªß ph√°p ngh·ªá thu·∫≠t</h3><ul><li><strong>T∆∞∆°ng ph·∫£n:</strong> ƒê·∫ßu - Cu·ªëi (Trang b·ªã >< Tr·∫ßn tru·ªìng), H√†nh ƒë·ªông - L·ªùi n√≥i (BƒÉng b√≥ >< Ch·ª≠i th·ªÅ).</li><li><strong>T√¢m l√Ω:</strong> Soi r·ªçi g√≥c khu·∫•t tƒÉm t·ªëi v√† √°nh s√°ng l∆∞∆°ng tri.</li></ul></div></div>
            <div class="slide" id="slide-9"><h2>C. LUY·ªÜN T·∫¨P (SGK)</h2><div class="fragment"><details><summary>C√¢u 1: √ù nghƒ©a "Mu·ªëi c·ªßa r·ª´ng"?</summary><div class="answer-content"><ul><li>Ti√™u ƒë·ªÅ ch·ª©a ƒë·ª±ng √Ω nghƒ©a s√¢u xa.</li><li>L·ªùi c·∫£nh b√°o v·ªÅ b√≠ ·∫©n r·ª´ng s√¢u.</li><li>"Mu·ªëi" l√† k·∫øt tinh. L√≤ng t·ªët hi·∫øm nh∆∞ mu·ªëi trong r·ª´ng, nh∆∞ng gi√∫p cu·ªôc s·ªëng kh√¥ng b·ªã h∆∞ ho·∫°i.</li></ul></div></details></div></div>
            <div class="slide" id="slide-10"><h2>C. LUY·ªÜN T·∫¨P</h2><div class="fragment"><details><summary>C√¢u 2: T√≥m t·∫Øt h√†nh tr√¨nh nh·∫≠n th·ª©c?</summary><div class="answer-content"><ul><li><strong>Ni·ªÅm vui:</strong> ƒêi v√†o r·ª´ng ph·∫•n kh√≠ch.</li><li><strong>Bi·∫øn c·ªë:</strong> B·∫Øn kh·ªâ ƒë·ª±c -> H·ªëi ti·∫øc.</li><li><strong>Th·ª©c t·ªânh:</strong> Th·∫•y t√¨nh c·∫£m kh·ªâ -> Suy ng·∫´m.</li><li><strong>H√†nh ƒë·ªông:</strong> Chi·∫øn ƒë·∫•u -> BƒÉng b√≥ -> Ph√≥ng sinh.</li><li><strong>K·∫øt th√∫c:</strong> M·∫•t ni·ªÅm vui sƒÉn b·∫Øn, t√¨m th·∫•y an nhi√™n.</li></ul></div></details></div></div>
            <div class="slide" id="slide-11"><h2>C. LUY·ªÜN T·∫¨P</h2><div class="fragment"><details><summary>C√¢u 3: Suy nghƒ© khi th·∫•y gia ƒë√¨nh kh·ªâ?</summary><div class="answer-content"><p>√îng rung ƒë·ªông tr∆∞·ªõc t√¨nh c·∫£m g·∫Øn b√≥ c·ªßa lo√†i v·∫≠t. G·ª£i nh·∫Øc con ng∆∞·ªùi t√¥n tr·ªçng s·ª± s·ªëng mu√¥n lo√†i.</p></div></details></div><div class="fragment"><details><summary>C√¢u 4: Thay ƒë·ªïi t·∫°i H√µm Ch·∫øt?</summary><div class="answer-content"><ul><li>T·ª´ coi thi√™n nhi√™n l√† t√†i nguy√™n -> B·∫°n ƒë·ªìng h√†nh.</li><li>T·ª´ sƒÉn b·∫Øn th√∫ vui -> √ù th·ª©c b·∫£o v·ªá.</li><li>T·ª´ v√¥ c·∫£m -> L√≤ng tin v√† c·∫£m th√¥ng.</li></ul></div></details></div></div>
            <div class="slide" id="slide-12"><h2>C. LUY·ªÜN T·∫¨P</h2><div class="fragment"><details><summary>C√¢u 5: √ù nghƒ©a hoa T·ª≠ Huy·ªÅn?</summary><div class="answer-content"><p>Bi·ªÉu t∆∞·ª£ng <strong>hy v·ªçng t√°i sinh</strong>, v·∫ª ƒë·∫πp thu·∫ßn khi·∫øt v√† s·ª± th·ª©c t·ªânh l∆∞∆°ng tri (n·ªü khi √¥ng Di·ªÉu tr·ªü v·ªÅ tay tr·∫Øng).</p></div></details></div><div class="fragment"><details><summary>C√¢u 6: T∆∞∆°ng ph·∫£n ƒê·∫ßu vs Cu·ªëi?</summary><div class="answer-content"><ul><li><strong>ƒê·∫ßu:</strong> Th·ª£ sƒÉn gi√†, trang b·ªã t·∫≠n rƒÉng.</li><li><strong>Cu·ªëi:</strong> "Tr·∫ßn tru·ªìng", "l·∫•m lem", y·∫øu ƒëu·ªëi.</li><li>=> ƒê·ªÉ h√≤a h·ª£p, con ng∆∞·ªùi c·∫ßn tr√∫t b·ªè v·ªè b·ªçc vƒÉn minh gi·∫£ t·∫°o.</li></ul></div></details></div></div>
            <div class="slide" id="slide-13"><h2>C. LUY·ªÜN T·∫¨P</h2><div class="fragment"><details><summary>C√¢u 7: So s√°nh "ƒê·ªÅn thi√™ng c·ª≠a b·ªÉ"?</summary><div class="answer-content"><p>Kh√°c bi·ªát v·ªÅ y·∫øu t·ªë k√¨ ·∫£o:</p><ul><li><strong>Mu·ªëi c·ªßa r·ª´ng:</strong> K√¨ ·∫£o tri·∫øt l√Ω, bi·ªÉu t∆∞·ª£ng, h∆∞·ªõng n·ªôi (hoa t·ª≠ huy·ªÅn).</li><li><strong>ƒê·ªÅn thi√™ng c·ª≠a b·ªÉ:</strong> K√¨ ·∫£o l·ªãch s·ª≠, huy·ªÅn tho·∫°i, t√¢m linh c·ªông ƒë·ªìng.</li></ul></div></details></div></div>
            <div class="slide" id="slide-14"><h2>T·ªîNG K·∫æT</h2><div class="fragment"><h3>1. N·ªôi dung</h3><p>L·ªùi c·∫£nh t·ªânh v·ªÅ quan h·ªá con ng∆∞·ªùi - thi√™n nhi√™n. C·∫ßn t√¥n tr·ªçng, y√™u th∆∞∆°ng, s·ªëng h√≤a h·ª£p ƒë·ªÉ t√¨m th·∫•y thanh th·∫£n.</p></div><div class="fragment"><h3>2. Ngh·ªá thu·∫≠t</h3><p>T√¨nh hu·ªëng ƒë·ªôc ƒë√°o, mi√™u t·∫£ t√¢m l√Ω tinh t·∫ø (d√≤ng √Ω th·ª©c), h·ªá th·ªëng bi·ªÉu t∆∞·ª£ng s√¢u s·∫Øc.</p></div></div>
            <div class="slide" id="slide-15"><div style="display: flex; flex-direction: column; height: 100%; justify-content: center; align-items: center; text-align: center;"><h1>C·∫¢M ∆†N ƒê√É L·∫ÆNG NGHE</h1><p><em>"Mu·ªëi c·ªßa r·ª´ng ch√≠nh l√† s·ª± k·∫øt tinh c·ªßa l√≤ng nh√¢n √°i."</em></p><div style="margin-top: 60px; display: flex; gap: 30px;"><button onclick="location.reload()" class="end-btn">‚ü≥ V·ªÅ Trang ƒê·∫ßu</button><a href="https://vuhoanghai208.github.io/van_thuyet_trinh/" class="end-btn" style="background: #3e2723; border-color: #3e2723;">üéÆ Chuy·ªÉn ƒê·∫øn Tr√≤ Ch∆°i</a></div></div></div>

        </div>
    </div>

    <div class="page-number">Trang <span id="page-num">1</span> / 16</div>

    <script>
        /* =========================================
           1. LOGIC SLIDE (GI·ªÆ NGUY√äN)
           ========================================= */
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const pageNum = document.getElementById('page-num');
        const container = document.getElementById('bookContainer');

        function resizeBook() {
            const baseWidth = 1800; const baseHeight = 1000;
            const scaleX = (window.innerWidth - 40) / baseWidth;
            const scaleY = (window.innerHeight - 40) / baseHeight;
            const scale = Math.min(scaleX, scaleY);
            container.style.transform = `scale(${scale})`;
        }
        window.addEventListener('load', resizeBook);
        window.addEventListener('resize', resizeBook);

        function toggleFullScreen() {
            if (!document.fullscreenElement) { document.documentElement.requestFullscreen(); } 
            else { if (document.exitFullscreen) document.exitFullscreen(); }
        }

        function initZIndex() {
            slides.forEach((slide, index) => { slide.style.zIndex = 100 - index; slide.style.display = 'block'; slide.classList.remove('flipped', 'active'); });
            slides[0].classList.add('active');
        }
        function updatePageNum() { pageNum.textContent = "Trang " + (currentSlide + 1) + " / " + slides.length; }
        function handleNext() {
            if (currentSlide >= slides.length - 1) return;
            const currentSlideEl = slides[currentSlide];
            const hiddenFragments = currentSlideEl.querySelectorAll('.fragment:not(.visible)');
            if (hiddenFragments.length > 0) { hiddenFragments[0].classList.add('visible'); } 
            else { goToSlide(currentSlide + 1); }
        }
        function handlePrev() { if (currentSlide <= 0) return; goToSlide(currentSlide - 1); }
        function goToSlide(n) {
            if (n < 0 || n >= slides.length) return;
            if (n > currentSlide) { // TI·∫æN
                const oldSlide = slides[currentSlide]; const newSlide = slides[n];
                oldSlide.classList.add('flipped'); oldSlide.classList.remove('active');
                newSlide.classList.add('active'); newSlide.classList.remove('flipped');
            } else { // L√ôI
                const oldSlide = slides[currentSlide]; const newSlide = slides[n];
                oldSlide.classList.remove('active'); newSlide.classList.remove('flipped'); newSlide.classList.add('active');
            }
            currentSlide = n; updatePageNum();
        }
        document.addEventListener('click', function(event) {
            if (event.target.closest('details') || event.target.closest('button') || event.target.closest('a') || event.target.closest('#wheel-widget') || event.target.closest('#wheel-toggle-btn')) return;
            if (event.clientX < window.innerWidth * 0.2) handlePrev(); else handleNext();
        });
        document.addEventListener('keydown', function(event) {
            if (event.key === "ArrowRight" || event.key === " " || event.key === "Enter") handleNext();
            else if (event.key === "ArrowLeft") handlePrev();
        });
        initZIndex(); updatePageNum();

        /* =========================================
           2. LOGIC V√íNG QUAY (ƒê√É C·∫¨P NH·∫¨T GI·∫¢M T·ª∂ L·ªÜ)
           ========================================= */
        const wheelNames = ["Thu√Ω Anh", "K·ª≥ Anh", "Vi·ªát Anh", "Ph∆∞∆°ng Anh", "B·∫Øc", "C√∫c", "Dung", "ƒêƒÉng", "H√†", "Hi·ªáp", "H·ªìng", "Huy", "H∆∞∆°ng", "Ki·ªÅu", "Lan", "Ho√†ng Ly", "Nguy·ªÖn Ly", "Tr√† Mai", "Xu√¢n Mai", "Minh", "Nam", "Ni√™n", "N.Ph∆∞∆°ng", "V.Ph∆∞∆°ng", "Thanh", "Th√†nh", "Thu", "Th√πy", "Th√∫y", "Tr∆∞·ªüng", "Tuy√™n", "Tuy·∫øt"];

        function initMiniWheel() {
            const ul = document.getElementById('mini-names-list'); ul.innerHTML = '';
            for(let i=0; i<5; i++) {
                wheelNames.forEach(n => { let li = document.createElement('li'); li.textContent = n; ul.appendChild(li); });
            }
        }

        function toggleWheelWidget() {
            document.getElementById('wheel-widget').classList.toggle('active');
            document.getElementById('wheel-backdrop').classList.toggle('active');
            document.getElementById('widget-result').classList.remove('show-big');
        }

        function resetSpinHistory() {
            if(confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a l·ªãch s·ª≠ quay (t·ª∑ l·ªá s·∫Ω v·ªÅ nh∆∞ c≈©)?")) {
                localStorage.removeItem('spin_history');
                alert("ƒê√£ reset th√†nh c√¥ng!");
            }
        }

        // --- H√ÄM L·∫§Y K·∫æT QU·∫¢ (WEIGHTED RANDOM) ---
        function getWeightedWinner() {
            // L·∫•y l·ªãch s·ª≠ t·ª´ localStorage
            let history = JSON.parse(localStorage.getItem('spin_history') || '{}');
            let pool = [];
            
            wheelNames.forEach(name => {
                let count = history[name] || 0;
                // LOGIC GI·∫¢M T·ª∂ L·ªÜ:
                // Ch∆∞a tr√∫ng (count == 0) -> 20 v√©
                // ƒê√£ tr√∫ng (count > 0) -> 1 v√©
                let tickets = (count === 0) ? 20 : 1; 
                
                for(let k=0; k<tickets; k++) {
                    pool.push(name);
                }
            });

            // Random trong b·ªÉ phi·∫øu
            let winner = pool[Math.floor(Math.random() * pool.length)];
            
            // C·∫≠p nh·∫≠t l·ªãch s·ª≠
            history[winner] = (history[winner] || 0) + 1;
            localStorage.setItem('spin_history', JSON.stringify(history));
            
            return winner;
        }

        function spinMiniWheel() {
            const btn = document.getElementById('btn-spin-mini');
            const container = document.getElementById('wheel-container');
            const ul = document.getElementById('mini-names-list');
            const resEl = document.getElementById('widget-result');
            const audioBg = document.getElementById('sound-bg-mini');
            
            btn.disabled = true;
            resEl.classList.remove('show-big');
            container.classList.add('spinning');
            try { audioBg.currentTime = 0; audioBg.play(); } catch(e){}

            // L·∫§Y NG∆Ø·ªúI TH·∫ÆNG T·ª™ THU·∫¨T TO√ÅN B·ªÇ PHI·∫æU
            const winnerName = getWeightedWinner();
            
            // T√¨m index c·ªßa t√™n n√†y trong m·∫£ng g·ªëc ƒë·ªÉ t√≠nh to√°n v·ªã tr√≠ d·ª´ng
            // (L∆∞u √Ω: n·∫øu c√≥ nhi·ªÅu t√™n tr√πng nhau trong danh s√°ch g·ªëc th√¨ l·∫•y c√°i ƒë·∫ßu ti√™n c≈©ng ƒë∆∞·ª£c)
            const winnerIndex = wheelNames.indexOf(winnerName);
            
            // --- TH√îNG S·ªê (SIZE 140px - 500px) ---
            const itemHeight = 140;
            const containerHeight = 500;
            
            const stopSet = 3; 
            const finalPos = ((stopSet * wheelNames.length) + winnerIndex) * itemHeight;
            const centerOffset = (containerHeight / 2) - (itemHeight / 2);
            const translateY = finalPos - centerOffset;

            ul.style.transition = 'none';
            ul.style.transform = 'translateY(0px)';
            
            setTimeout(() => {
                ul.style.transition = 'transform 5s cubic-bezier(0.25, 0.1, 0.25, 1)';
                ul.style.transform = `translateY(-${translateY}px)`;
            }, 50);

            setTimeout(() => {
                container.classList.remove('spinning');
                btn.disabled = false;
                audioBg.pause();
                try { document.getElementById('sound-win-mini').play(); } catch(e){}
                
                resEl.textContent = "üéâ " + winnerName + " üéâ";
                resEl.classList.add('show-big');
            }, 5050);
        }

        initMiniWheel();

    </script>
</body>
</html>
